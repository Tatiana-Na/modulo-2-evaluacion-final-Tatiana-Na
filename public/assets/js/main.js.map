{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\n/* Elementos que usamos en el HTML */\n\nconst btnSearch = document.querySelector('.js-button-search');\nconst btnReser = document.querySelector('.js-button-reset');\nconst inputForm = document.querySelector('.js_input');\nconst listSeries =  document.querySelector('.js-list-series');\nconst favList = document.querySelector('.js-favorite');\n\n\n\nfunction borderOnClick(event) {\n    event.currentTarget.classList.add('cardSerie-red-border');\n    console.log(event.currentTarget.classList);\n}\n\n\n///Render\nlet data = []; ///мы создаем константу в которой мы храним то что нам присылает сервер\n\nfunction renderSeries() {\n    console.log(data);\n    let html = '';\n    let classFavorite = '';\n    for (const oneSerie of data) {\n const serieFavorite = ListFavorites.findIndex((favorite) => oneSerie.mal_id === favorite.mal_id  \n );\n\nif(serieFavorite !== -1){\n  classFavorite = 'cardSerie--myFavorite';\n}else{\n  classFavorite = '';\n}\n html += `<li class=\"cardSerie js_cardSerieResault ${classFavorite}\" id=\"${oneSerie.mal_id}\">`;\n     html += `<img src=\"${oneSerie.images.jpg.image_url}\" alt=\"\">`;  \n     html += `<h3>${oneSerie.title}</h3>`; \n     html += `</li>`; \n    }\n    listSeries.innerHTML = html;\n    clickOnSerie();\n}\n\n\nfunction renderFavorites() {\n  let html =  '';\n  for (let index = 0; index < ListFavorites.length; index++) {\n      html += \"<li class = cardSerie>\";\n      html += ListFavorites[index];\n      html += \"</li>\";\n    }\n    favList.innerHTML = html;\n    setLocalStorage(html);\n\n}\n\n\n\n\n\n\n///Eventos\nbtnSearch.addEventListener('click', (event) => {\n  event.preventDefault();\n  const userTextValue = inputForm.value;\n  fetch(`https://api.jikan.moe/v4/anime?q=${userTextValue}`)\n  .then((response) => response.json())\n  .then((result) => {\n\n    data = result.data;\n    renderSeries(); \n})\n}); \n\n\n\n\n/*function ApiData() {\nfetch('https://api.jikan.moe/v4/anime?')\n.then((response) => response.json())\n.then((result) => {\n\n    data = result.data;\n    renderSeries(); \n}\n)\n .catch((error) => {\n      console.log(`Se ha producido un error ${error}`);\n    });\n    };\nApiData();\n*/\n\n\n\n\n/// Favorits///////\nlet ListFavorites = [];\n\n\nfunction handleClick(event) {\nconsole.log(event.currentTarget.id);\n\nconst idFavorite = parseInt(event.currentTarget.id);\nconst serieFavoriteClicked = data.find((serie) => serie.mal_id === idFavorite);\nconst serieFavotiteSelected = ListFavorites.findIndex((favorite) => favorite.mal_id === idFavorite);\nif(serieFavotiteSelected === -1) {\n  ListFavorites.push(serieFavoriteClicked);\n} else {\n  ListFavorites.splice(serieFavotiteSelected, 1);\n} \n  console.log(ListFavorites);\n  renderSeries(); \n  renderFavorites()\n}\n\nfunction addToFavourites(name, showHTML) { \n  const newFavourite = searchItems.filter(item => item.show.name == name);\n  if (newFavourite.length !== 0) {\n      favouriteItems.push(newFavourite[0]);\n  }\n\n}\n\n\nfunction clickOnSerie() {\n    const searchListResault = document.querySelectorAll('.js_cardSerieResault');\n    for (const li of searchListResault) {\n        li.addEventListener('click', handleClick);\n    }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//// Button Reset\nbtnReser.addEventListener('click', handleClickReset);\n\nfunction handleClickReset() {\n  renderSeries();\n};\n\n\n\n////Local Storage\nfunction setLocalStorage() {\n  localStorage.setItem('ListFavorites', JSON.stringify(ListFavorites));\n}\n\n\n\n\n/*\n\nfunction pageRestart() {\n  const favLocalStorage = JSON.parse(localStorage.getItem('ListFavorites'));\n\n  if (favLocalStorage) {\n  } else {\nconsole.log(pageRestart);\n  }\n}\n\npageRestart();\n\n*/\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]}